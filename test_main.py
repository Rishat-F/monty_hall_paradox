import pytest

from main import Scene


@pytest.mark.parametrize(
    "opened_doors,answer,prediction,expected_doors",
    [
        (
            [],
            1,
            None,
            """   _____    _____    _____\n"""
            """  |     |  |     |  |     |\n"""
            """  |  1  |  |  2  |  |  3  |\n"""
            """  |    à¥¦|  |    à¥¦|  |    à¥¦|\n"""
            """  |     |  |     |  |     |\n"""
            """  |_____|  |_____|  |_____|\n\n"""
        ),
        (
            [],
            2,
            1,
            """   _____    _____    _____\n"""
            """  |  â–¼  |  |     |  |     |\n"""
            """  |  1  |  |  2  |  |  3  |\n"""
            """  |    à¥¦|  |    à¥¦|  |    à¥¦|\n"""
            """  |     |  |     |  |     |\n"""
            """  |_____|  |_____|  |_____|\n\n"""
        ),
        (
            [],
            3,
            None,
            """   _____    _____    _____\n"""
            """  |     |  |     |  |     |\n"""
            """  |  1  |  |  2  |  |  3  |\n"""
            """  |    à¥¦|  |    à¥¦|  |    à¥¦|\n"""
            """  |     |  |     |  |     |\n"""
            """  |_____|  |_____|  |_____|\n\n"""
        ),
        (
            [1],
            1,
            3,
            """   _____    _____    _____\n"""
            """  |     |  |     |  |  â–¼  |\n"""
            """  |     |  |  2  |  |  3  |\n"""
            """  |     |  |    à¥¦|  |    à¥¦|\n"""
            """  |   ðŸ’°|  |     |  |     |\n"""
            """  | ðŸ’°ðŸ’°|  |_____|  |_____|\n\n"""
        ),
        (
            [1],
            2,
            None,
            """   _____    _____    _____\n"""
            """  |     |  |     |  |     |\n"""
            """  |     |  |  2  |  |  3  |\n"""
            """  |     |  |    à¥¦|  |    à¥¦|\n"""
            """  |     |  |     |  |     |\n"""
            """  |     |  |_____|  |_____|\n\n"""
        ),
        (
            [1],
            3,
            1,
            """   _____    _____    _____\n"""
            """  |     |  |     |  |     |\n"""
            """  |     |  |  2  |  |  3  |\n"""
            """  |     |  |    à¥¦|  |    à¥¦|\n"""
            """  |     |  |     |  |     |\n"""
            """  |     |  |_____|  |_____|\n\n"""
        ),
        (
            [2],
            1,
            None,
            """   _____    _____    _____\n"""
            """  |     |  |     |  |     |\n"""
            """  |  1  |  |     |  |  3  |\n"""
            """  |    à¥¦|  |     |  |    à¥¦|\n"""
            """  |     |  |     |  |     |\n"""
            """  |_____|  |     |  |_____|\n\n"""
        ),
        (
            [2],
            2,
            2,
            """   _____    _____    _____\n"""
            """  |     |  |     |  |     |\n"""
            """  |  1  |  |     |  |  3  |\n"""
            """  |    à¥¦|  |     |  |    à¥¦|\n"""
            """  |     |  |   ðŸ’°|  |     |\n"""
            """  |_____|  | ðŸ’°ðŸ’°|  |_____|\n\n"""
        ),
        (
            [2],
            3,
            None,
            """   _____    _____    _____\n"""
            """  |     |  |     |  |     |\n"""
            """  |  1  |  |     |  |  3  |\n"""
            """  |    à¥¦|  |     |  |    à¥¦|\n"""
            """  |     |  |     |  |     |\n"""
            """  |_____|  |     |  |_____|\n\n"""
        ),
        (
            [3],
            1,
            3,
            """   _____    _____    _____\n"""
            """  |     |  |     |  |     |\n"""
            """  |  1  |  |  2  |  |     |\n"""
            """  |    à¥¦|  |    à¥¦|  |     |\n"""
            """  |     |  |     |  |     |\n"""
            """  |_____|  |_____|  |     |\n\n"""
        ),
        (
            [3],
            2,
            None,
            """   _____    _____    _____\n"""
            """  |     |  |     |  |     |\n"""
            """  |  1  |  |  2  |  |     |\n"""
            """  |    à¥¦|  |    à¥¦|  |     |\n"""
            """  |     |  |     |  |     |\n"""
            """  |_____|  |_____|  |     |\n\n"""
        ),
        (
            [3],
            3,
            2,
            """   _____    _____    _____\n"""
            """  |     |  |  â–¼  |  |     |\n"""
            """  |  1  |  |  2  |  |     |\n"""
            """  |    à¥¦|  |    à¥¦|  |     |\n"""
            """  |     |  |     |  |   ðŸ’°|\n"""
            """  |_____|  |_____|  | ðŸ’°ðŸ’°|\n\n"""
        ),
        (
            [1, 2],
            1,
            None,
            """   _____    _____    _____\n"""
            """  |     |  |     |  |     |\n"""
            """  |     |  |     |  |  3  |\n"""
            """  |     |  |     |  |    à¥¦|\n"""
            """  |   ðŸ’°|  |     |  |     |\n"""
            """  | ðŸ’°ðŸ’°|  |     |  |_____|\n\n"""
        ),
        (
            [1, 2],
            2,
            3,
            """   _____    _____    _____\n"""
            """  |     |  |     |  |  â–¼  |\n"""
            """  |     |  |     |  |  3  |\n"""
            """  |     |  |     |  |    à¥¦|\n"""
            """  |     |  |   ðŸ’°|  |     |\n"""
            """  |     |  | ðŸ’°ðŸ’°|  |_____|\n\n"""
        ),
        (
            [1, 2],
            3,
            None,
            """   _____    _____    _____\n"""
            """  |     |  |     |  |     |\n"""
            """  |     |  |     |  |  3  |\n"""
            """  |     |  |     |  |    à¥¦|\n"""
            """  |     |  |     |  |     |\n"""
            """  |     |  |     |  |_____|\n\n"""
        ),
        (
            [1, 3],
            1,
            1,
            """   _____    _____    _____\n"""
            """  |     |  |     |  |     |\n"""
            """  |     |  |  2  |  |     |\n"""
            """  |     |  |    à¥¦|  |     |\n"""
            """  |   ðŸ’°|  |     |  |     |\n"""
            """  | ðŸ’°ðŸ’°|  |_____|  |     |\n\n"""
        ),
        (
            [1, 3],
            2,
            None,
            """   _____    _____    _____\n"""
            """  |     |  |     |  |     |\n"""
            """  |     |  |  2  |  |     |\n"""
            """  |     |  |    à¥¦|  |     |\n"""
            """  |     |  |     |  |     |\n"""
            """  |     |  |_____|  |     |\n\n"""
        ),
        (
            [1, 3],
            3,
            1,
            """   _____    _____    _____\n"""
            """  |     |  |     |  |     |\n"""
            """  |     |  |  2  |  |     |\n"""
            """  |     |  |    à¥¦|  |     |\n"""
            """  |     |  |     |  |   ðŸ’°|\n"""
            """  |     |  |_____|  | ðŸ’°ðŸ’°|\n\n"""
        ),
        (
            [2, 3],
            1,
            None,
            """   _____    _____    _____\n"""
            """  |     |  |     |  |     |\n"""
            """  |  1  |  |     |  |     |\n"""
            """  |    à¥¦|  |     |  |     |\n"""
            """  |     |  |     |  |     |\n"""
            """  |_____|  |     |  |     |\n\n"""
        ),
        (
            [2, 3],
            2,
            1,
            """   _____    _____    _____\n"""
            """  |  â–¼  |  |     |  |     |\n"""
            """  |  1  |  |     |  |     |\n"""
            """  |    à¥¦|  |     |  |     |\n"""
            """  |     |  |   ðŸ’°|  |     |\n"""
            """  |_____|  | ðŸ’°ðŸ’°|  |     |\n\n"""
        ),
        (
            [2, 3],
            3,
            None,
            """   _____    _____    _____\n"""
            """  |     |  |     |  |     |\n"""
            """  |  1  |  |     |  |     |\n"""
            """  |    à¥¦|  |     |  |     |\n"""
            """  |     |  |     |  |   ðŸ’°|\n"""
            """  |_____|  |     |  | ðŸ’°ðŸ’°|\n\n"""
        ),
        (
            [1, 2, 3],
            1,
            3,
            """   _____    _____    _____\n"""
            """  |     |  |     |  |     |\n"""
            """  |     |  |     |  |     |\n"""
            """  |     |  |     |  |     |\n"""
            """  |   ðŸ’°|  |     |  |     |\n"""
            """  | ðŸ’°ðŸ’°|  |     |  |     |\n\n"""
        ),
        (
            [1, 2, 3],
            2,
            None,
            """   _____    _____    _____\n"""
            """  |     |  |     |  |     |\n"""
            """  |     |  |     |  |     |\n"""
            """  |     |  |     |  |     |\n"""
            """  |     |  |   ðŸ’°|  |     |\n"""
            """  |     |  | ðŸ’°ðŸ’°|  |     |\n\n"""
        ),
        (
            [1, 2, 3],
            3,
            2,
            """   _____    _____    _____\n"""
            """  |     |  |     |  |     |\n"""
            """  |     |  |     |  |     |\n"""
            """  |     |  |     |  |     |\n"""
            """  |     |  |     |  |   ðŸ’°|\n"""
            """  |     |  |     |  | ðŸ’°ðŸ’°|\n\n"""
        ),
    ]

)
def test__draw_doors(capsys, opened_doors, answer, prediction, expected_doors):
    scene = Scene()
    scene.opened_doors = opened_doors
    scene.answer = answer
    scene._draw_doors(prediction)
    stdout, stderr = capsys.readouterr()
    assert stdout == expected_doors
    assert stderr == ""
